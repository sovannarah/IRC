{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 6cb27fa43f81619c501a","webpack:///./src/tag.js","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///./src/constants.js","webpack:///./src/index.js","webpack:///./src/parser.js","webpack:///./src/renderer.js","webpack:///./src/tags/center.js","webpack:///./src/tags/code.js","webpack:///./src/tags/color.js","webpack:///./src/tags/hr.js","webpack:///./src/tags/image.js","webpack:///./src/tags/index.js","webpack:///./src/tags/item.js","webpack:///./src/tags/link.js","webpack:///./src/tags/list.js","webpack:///./src/tags/quote.js","webpack:///./src/tags/right.js","webpack:///./src/tags/simple.js","webpack:///./src/tags/size.js"],"names":["Tag","renderer","settings","CLOSED_BY","SELF_CLOSE","STRIP_INNER","STRIP_OUTER","DISCARD_TEXT","name","parent","text","params","children","push","forEach","item","length","components","child","childComponents","toReact","Children","toArray","raw","pieces","content","escape","options","linkify","cosmeticReplace","replace","toText","childPieces","toHTML","join","strip","slice","contentAsHTML","Object","keys","map","k","getContent","indexOf","getComponents","NEWLINE_RE","LINE_BREAK","SPACE_RE","TOKEN_RE","START_NEWLINE_RE","ESCAPE_RE","ESCAPE_DICT","URL_RE","COSMETIC_DICT","COSMETIC_RE","module","exports","Parser","allowedTags","tags","tag","token","addParam","value","n","trim","toLowerCase","key","target","terminate","skipNext","Array","from","c","test","ref","input","root","tokens","split","current","shift","match","parseParams","tagName","unshift","createTextNode","cls","parse","Renderer","contexts","context","func","newOptions","v","pop","url","proto","href","attributes","CenterTag","textAlign","CodeTag","inline","code","lang","className","ColorTag","color","HorizontalRuleTag","ImageTag","src","width","height","htmlAttributes","b","i","u","s","h1","h2","h3","h4","h5","h6","pre","table","thead","tbody","tr","th","td","img","hr","size","center","right","list","quote","link","email","ListItemTag","LinkTag","ListTag","listType","listTypes","a","A","I","listStyleType","QuoteTag","citation","RightTag","SimpleTag","Name","SizeTag","isNaN","fontSize"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;sjBCtCA;;;AACA;;;;AACA;;;;;;;;KAEqBA,G;AAEnB,gBAAYC,QAAZ,EAAqC;AAAA;;AAAA,SAAfC,QAAe,uEAAJ,EAAI;;AAAA;;AACnC,UAAKD,QAAL,GAAgBA,QAAhB;AACA,UAAKE,SAAL,GAAiB,EAAjB;AACA,UAAKC,UAAL,GAAkB,KAAlB;AACA,UAAKC,WAAL,GAAmB,KAAnB;AACA,UAAKC,WAAL,GAAmB,KAAnB;AACA,UAAKC,YAAL,GAAoB,KAApB;;AAEA,UAAKC,IAAL,GAAYN,SAASM,IAAT,IAAiB,IAA7B;AACA,UAAKC,MAAL,GAAcP,SAASO,MAAT,IAAmB,IAAjC;AACA,UAAKC,IAAL,GAAYR,SAASQ,IAAT,IAAiB,EAA7B;AACA,UAAKC,MAAL,GAAc,EAAd;AACA,UAAKC,QAAL,GAAgB,EAAhB;;AAEA,SAAI,KAAKH,MAAT,EAAiB;AACf,YAAKA,MAAL,CAAYG,QAAZ,CAAqBC,IAArB,CAA0B,IAA1B;AACD;;AAEDX,cAASS,MAAT,GAAkBT,SAASS,MAAT,IAAmB,EAArC;;AAEAT,cAASS,MAAT,CAAgBG,OAAhB,CAAwB,gBAAQ;AAC9B,WAAIC,KAAKC,MAAL,GAAc,CAAd,IAAmBD,KAAK,CAAL,CAAvB,EAAgC;AAC9B,eAAKJ,MAAL,CAAYI,KAAK,CAAL,CAAZ,IAAuBA,KAAK,CAAL,CAAvB;AACD;AACF,MAJD;AAKD;;;;qCAEe;AAAA;;AACd,WAAME,aAAa,EAAnB;AACA,WAAI,KAAKP,IAAL,IAAa,KAAKA,IAAL,CAAUM,MAA3B,EAAmC;AACjC;AACAC,oBAAWJ,IAAX,CAAgB,KAAKH,IAArB;AACD;;AAED,YAAKE,QAAL,CAAcE,OAAd,CAAsB,iBAAS;AAC7B,aAAI,EAAE,OAAKP,YAAL,IAAqBW,MAAMV,IAAN,KAAe,IAAtC,CAAJ,EAAiD;AAC/C,eAAMW,kBAAkBD,MAAME,OAAN,EAAxB;AACAH,sBAAWJ,IAAX,CAAgBM,eAAhB;AACD;AACF,QALD;;AAOA,cAAO,gBAAME,QAAN,CAAeC,OAAf,CAAuBL,UAAvB,CAAP;AACD;;;kCAEuB;AAAA;;AAAA,WAAbM,GAAa,uEAAP,KAAO;;AACtB,WAAMC,SAAS,EAAf;AACA,WAAId,aAAJ;AACA,WAAIe,gBAAJ;;AAEA,WAAI,KAAKf,IAAL,IAAa,KAAKA,IAAL,CAAUM,MAA3B,EAAmC;AACjCN,gBAAO,KAAKT,QAAL,CAAcyB,MAAd,CAAqB,KAAKhB,IAA1B,CAAP;;AAEA,aAAI,CAACa,GAAL,EAAU;AACR,eAAI,KAAKtB,QAAL,CAAc0B,OAAd,CAAsBC,OAA1B,EAAmC;AACjClB,oBAAO,KAAKT,QAAL,CAAc2B,OAAd,CAAsBlB,IAAtB,CAAP;AACD;AACDA,kBAAO,KAAKT,QAAL,CAAc4B,eAAd,CAA8BnB,KAAKoB,OAAL,8CAA9B,CAAP;AACD;;AAEDN,gBAAOX,IAAP,CAAYH,IAAZ;AACD;;AAED,YAAKE,QAAL,CAAcE,OAAd,CAAsB,iBAAS;AAC7B,aAAIS,GAAJ,EAAS;AACPC,kBAAOX,IAAP,CAAYK,MAAMa,MAAN,EAAZ;AACD,UAFD,MAEO;AACL,eAAI,EAAE,OAAKxB,YAAL,IAAqBW,MAAMV,IAAN,KAAe,IAAtC,CAAJ,EAAiD;AAC/C,iBAAMwB,cAAcd,MAAMe,MAAN,EAApB;AACA,iBAAI,OAAOD,WAAP,KAAuB,QAA3B,EAAqC;AACnCR,sBAAOX,IAAP,CAAYmB,WAAZ;AACD,cAFD,MAEO;AACLR,sBAAOX,IAAP,kCAAemB,WAAf;AACD;AACF;AACF;AACF,QAbD;;AAeAP,iBAAUD,OAAOU,IAAP,CAAY,EAAZ,CAAV;;AAEA,WAAI,CAACX,GAAD,IAAQ,KAAKlB,WAAjB,EAA8B;AAC5BoB,mBAAU,KAAKxB,QAAL,CAAckC,KAAd,CAAoBV,OAApB,CAAV;;AAEA,gBAAOA,QAAQW,KAAR,CAAc,CAAd,EAAiB,sBAAWpB,MAA5B,2BAAP,EAA2D;AACzDS,qBAAUA,QAAQW,KAAR,CAAc,sBAAWpB,MAAzB,CAAV;AACD;AACD,gBAAOS,QAAQW,KAAR,CAAc,CAAC,sBAAWpB,MAA1B,2BAAP,EAAyD;AACvDS,qBAAUA,QAAQW,KAAR,CAAc,CAAd,EAAiB,CAAC,sBAAWpB,MAA7B,CAAV;AACD;AACDS,mBAAU,KAAKxB,QAAL,CAAckC,KAAd,CAAoBV,OAApB,CAAV;AACD;AACD,cAAOA,OAAP;AACD;;;8BAE6B;AAAA;;AAAA,WAAvBY,aAAuB,uEAAP,KAAO;;AAC5B,WAAMb,SAAS,EAAf;;AAEA,WAAI,KAAKhB,IAAL,KAAc,IAAlB,EAAwB;AACtB,aAAI,KAAKG,MAAL,CAAYK,MAAhB,EAAwB;AACtB,eAAML,SAAS2B,OAAOC,IAAP,CAAY,KAAK5B,MAAjB,EAAyB6B,GAAzB,CAA6B;AAAA,oBAAQC,CAAR,SAAa,OAAK9B,MAAL,CAAY8B,CAAZ,CAAb;AAAA,YAA7B,EAA4DP,IAA5D,CAAiE,GAAjE,CAAf;;AAEA,eAAI,KAAKvB,MAAL,CAAY,KAAKH,IAAjB,CAAJ,EAA4B;AAC1BgB,oBAAOX,IAAP,OAAgBF,MAAhB;AACD,YAFD,MAEO;AACLa,oBAAOX,IAAP,OAAgB,KAAKL,IAArB,SAA6BG,MAA7B;AACD;AACF,UARD,MAQO;AACLa,kBAAOX,IAAP,OAAgB,KAAKL,IAArB;AACD;AACF;;AAEDgB,cAAOX,IAAP,CAAY,KAAK6B,UAAL,CAAgB,CAACL,aAAjB,CAAZ;;AAEA,WAAI,KAAK7B,IAAL,KAAc,IAAd,IAAsB,KAAKL,SAAL,CAAewC,OAAf,CAAuB,KAAKnC,IAA5B,MAAsC,CAAC,CAAjE,EAAoE;AAClEgB,gBAAOX,IAAP,QAAiB,KAAKL,IAAtB;AACD;;AAED,cAAOgB,OAAOU,IAAP,CAAY,EAAZ,CAAP;AACD;;;8BAEQ;AACP,WAAMV,SAAS,KAAKO,MAAL,CAAY,IAAZ,CAAf;;AAEA,cAAQ,OAAOP,MAAP,KAAkB,QAAnB,GAA+BA,MAA/B,GAAwCA,OAAOU,IAAP,CAAY,EAAZ,CAA/C;AACD;;;+BAES;AACR,cAAO,gBAAMb,QAAN,CAAeC,OAAf,CAAuB,KAAKsB,aAAL,EAAvB,CAAP;AACD;;;;;;mBAjIkB5C,G;;;;;;ACJrB,gD;;;;;;;;;;;ACCO,KAAM6C,kCAAa,QAAnB;AACA,KAAMC,kCAAa,QAAnB;;AAEA,KAAMC,8BAAW,OAAjB;AACA,KAAMC,8BAAW,cAAjB;AACA,KAAMC,8CAAmB,QAAzB;;AAEA,KAAMC,gCAAY,SAAlB;AACA,KAAMC,oCAAc;AACzB,QAAK,OADoB;AAEzB,QAAK,MAFoB;AAGzB,QAAK,MAHoB;AAIzB,QAAK;AAJoB,EAApB;;AAOA,KAAMC,0BAAS,iJAAf;;AAEA,KAAMC,wCAAgB;AAC3B,SAAM,SADqB;AAE3B,UAAO,SAFoB;AAG3B,UAAO,SAHoB;AAI3B,UAAO,QAJoB;AAK3B,YAAS,OALkB;AAM3B,WAAQ;AANmB,EAAtB;;AASA,KAAMC,oCAAc,oCAApB,C;;;;;;;;AC3BP;;;;AACA;;;;;;AAEA;;AAEA;AACA;AACA;AACA;;AAEAC,QAAOC,OAAP,GAAiB,sBAAjB;AACAD,QAAOC,OAAP,CAAeC,MAAf;AACAF,QAAOC,OAAP,CAAexD,GAAf,iB;;;;;;;;;;;;sjBCZA;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;;;;;KAEqByD,M;AACnB,qBAAgC;AAAA;;AAAA,SAApBC,WAAoB,uEAAN,IAAM;;AAAA;;AAC9B,UAAKC,IAAL,GAAY,EAAZ;;AAEA,SAAI,CAACD,WAAL,EAAkB;AAChB,YAAKC,IAAL;AACD,MAFD,MAEO;AACLD,mBAAY5C,OAAZ,CAAoB,gBAAQ;AAC1B,aAAI,eAAYN,IAAZ,CAAJ,EAAuB;AACrB,iBAAKmD,IAAL,CAAUnD,IAAV,IAAkB,eAAYA,IAAZ,CAAlB;AACD;AACF,QAJD;AAKD;;AAED,UAAKP,QAAL,GAAgB,wBAAhB;AACD;;;;iCAEWO,I,EAAMoD,G,EAAK;AACrB,YAAKD,IAAL,CAAUnD,IAAV,IAAkBoD,GAAlB;AACD;;;iCAEWC,K,EAAO;AACjB,WAAMlD,SAAS,EAAf;;AAEA,gBAASmD,QAAT,CAAkBtD,IAAlB,EAAwBuD,KAAxB,EAA+B;AAC7B,aAAIvD,IAAJ,EAAU;AACR,eAAMwD,IAAIxD,KAAKyD,IAAL,EAAV;AACA;AACA,eAAID,EAAEhD,MAAF,IAAYgD,EAAEE,WAAF,GAAgBvB,OAAhB,CAAwB,IAAxB,MAAkC,CAAlD,EAAqD;AACnDhC,oBAAOE,IAAP,CAAY,CAACmD,CAAD,EAAID,KAAJ,CAAZ;AACD;AACF;AACF;;AAED,WAAIF,KAAJ,EAAW;AACT,aAAIM,MAAM,EAAV;AACA,aAAIC,SAASD,GAAb;AACA,aAAIJ,QAAQ,EAAZ;AACA,aAAIM,YAAY,GAAhB;AACA,aAAIC,WAAW,KAAf;;AAEAC,eAAMC,IAAN,CAAWX,KAAX,EAAkB/C,OAAlB,CAA0B,aAAK;AAC7B,eAAIwD,QAAJ,EAAc;AACZA,wBAAW,KAAX;AACD,YAFD,MAEO,IAAIF,WAAWD,GAAX,IAAkBM,MAAM,GAA5B,EAAiC;AACtCL,sBAASL,KAAT;AACD,YAFM,MAEA,IAAIK,WAAWD,GAAX,IAAkBM,MAAM,GAA5B,EAAiC;AACtCL,sBAASL,KAAT;AACD,YAFM,MAEA,IAAI,CAACA,MAAM/C,MAAP,IAAiByD,MAAM,GAA3B,EAAgC;AACrCJ,yBAAYI,CAAZ;AACD,YAFM,MAEA,IAAIA,MAAMJ,SAAV,EAAqB;AAC1BD,oBAAOvD,IAAP,CAAY4D,CAAZ;AACD,YAFM,MAEA;AACLX,sBAASK,IAAIjC,IAAJ,CAAS,EAAT,CAAT,EAAuB6B,MAAM7B,IAAN,CAAW,EAAX,CAAvB;;AAEA,iBAAI,CAAC,oBAASwC,IAAT,CAAcL,SAAd,CAAL,EAA+B;AAC7BC,0BAAW,IAAX;AACD;;AAEDF,sBAASD,MAAM,EAAf;AACAJ,qBAAQ,EAAR;AACAM,yBAAY,GAAZ;AACD;AACF,UAtBD;;AAwBAP,kBAASK,IAAIjC,IAAJ,CAAS,EAAT,CAAT,EAAuB6B,MAAM7B,IAAN,CAAW,EAAX,CAAvB;AACD;;AAED,cAAOvB,MAAP;AACD;;;oCAEcF,M,EAAQC,I,EAAM;AAC3B,WAAMiE,MAAMlE,OAAOG,QAAP,CAAgBwB,KAAhB,CAAsB,CAAC,CAAvB,EAA0B,CAA1B,CAAZ;AACA;AACA,WAAIuC,OAAO,IAAP,IAAeA,IAAIrE,WAAvB,EAAoC;AAClCI,gBAAOA,KAAKoB,OAAL,8BAA+B,EAA/B,CAAP;AACD;;AAED,cAAO,kBAAQ,KAAK7B,QAAb,EAAuB,EAAES,UAAF,EAAQD,cAAR,EAAvB,CAAP;AACD;;;2BAEKmE,K,EAAO;AACX,WAAMC,OAAO,kBAAQ,KAAK5E,QAAb,CAAb;AACA,WAAM6E,SAASF,MAAMG,KAAN,qBAAf;AACA,WAAIC,UAAUH,IAAd;AACA,WAAIhB,QAAQ,IAAZ;AACA,cAAOiB,OAAO9D,MAAd,EAAsB;AACpB6C,iBAAQiB,OAAOG,KAAP,EAAR;AACA,aAAI,CAACpB,MAAM7C,MAAX,EAAmB;AACjB;AACD;;AAED,aAAI6C,MAAMqB,KAAN,qBAAJ,EAA2B;AACzB,eAAIvE,SAAS,KAAKwE,WAAL,CAAiBtB,MAAMzB,KAAN,CAAY,CAAZ,EAAe,CAAC,CAAhB,CAAjB,CAAb;AACA,eAAIgD,UAAUzE,OAAO,CAAP,EAAU,CAAV,EAAauD,WAAb,EAAd;;AAEA,eAAIc,QAAQ7E,SAAR,CAAkBwC,OAAlB,CAA0ByC,OAA1B,IAAqC,CAAC,CAA1C,EAA6C;AAC3CN,oBAAOO,OAAP,CAAexB,KAAf;AACAuB,6BAAcJ,QAAQxE,IAAtB;AACAG,sBAAS,EAAT;AACD;;AAED,eAAIyE,QAAQ,CAAR,MAAe,GAAnB,EAAwB;AACtBA,uBAAUA,QAAQhD,KAAR,CAAc,CAAd,CAAV;AACA,iBAAI,CAAC,KAAKuB,IAAL,CAAUyB,OAAV,CAAL,EAAyB;AACvB,oBAAKE,cAAL,CAAoBN,OAApB,EAA6BnB,KAA7B;AACA;AACD;;AAED,iBAAImB,QAAQxE,IAAR,KAAiB4E,OAArB,EAA8B;AAC5BJ,yBAAUA,QAAQvE,MAAlB;AACD;AACF,YAVD,MAUO;AACL,iBAAM8E,MAAM,KAAK5B,IAAL,CAAUyB,OAAV,CAAZ;AACA,iBAAI,CAACG,GAAL,EAAU;AACR,oBAAKD,cAAL,CAAoBN,OAApB,EAA6BnB,KAA7B;AACA;AACD;;AAED,iBAAMD,MAAM,IAAI2B,GAAJ,CAAQ,KAAKtF,QAAb,EAAuB;AACjCO,qBAAM4E,OAD2B;AAEjC3E,uBAAQuE,OAFyB;AAGjCrE;AAHiC,cAAvB,CAAZ;;AAMA,iBAAI,CAACiD,IAAIxD,UAAL,KAAoBwD,IAAIzD,SAAJ,CAAcwC,OAAd,CAAsByC,OAAtB,IAAiC,CAAjC,IAAsCJ,QAAQxE,IAAR,KAAiB4E,OAA3E,CAAJ,EAAyF;AACvFJ,yBAAUpB,GAAV;AACD;AACF;AACF,UArCD,MAqCO;AACL,gBAAK0B,cAAL,CAAoBN,OAApB,EAA6BnB,KAA7B;AACD;AACF;;AAED,cAAOgB,IAAP;AACD;;;4BAEMD,K,EAAO;AACZ,cAAO,KAAKY,KAAL,CAAWZ,KAAX,EAAkB3C,MAAlB,EAAP;AACD;;;6BAEO2C,K,EAAO;AACb,cAAO,KAAKY,KAAL,CAAWZ,KAAX,EAAkBxD,OAAlB,EAAP;AACD;;;;;;mBA/IkBqC,M;;;;;;;;;;;;;;;;ACPrB;;;;KAQqBgC,Q;AACnB,qBAAY9D,OAAZ,EAAqB;AAAA;;AACnB,UAAKA,OAAL,GAAe,SAAc;AAC3BC,gBAAS;AADkB,MAAd,EAEZD,OAFY,CAAf;AAGA,UAAK+D,QAAL,GAAgB,EAAhB;AACD;;;;6BAEOC,Q,EAASC,I,EAAM;AACrB,WAAMC,aAAa,SAAc,EAAd,EAAkB,KAAKlE,OAAvB,EAAgCgE,QAAhC,CAAnB;AACA,YAAKD,QAAL,CAAc7E,IAAd,CAAmB,KAAKc,OAAxB;AACA,YAAKA,OAAL,GAAekE,UAAf;AACA,WAAMC,IAAIF,MAAV;AACA,YAAKjE,OAAL,GAAe,KAAK+D,QAAL,CAAcK,GAAd,EAAf;AACA,cAAOD,CAAP;AACD;;;4BAEM/B,K,EAAO;AACZ;AACA,cAAOA,MAAMjC,OAAN,uBAAyB,UAACoD,KAAD;AAAA,gBAAW,uBAAYA,KAAZ,CAAX;AAAA,QAAzB,CAAP;AACD;;;6BAEOnB,K,EAAO;AACb,cAAOA,MAAMjC,OAAN,oBAAsB,YAAc;AACzC,aAAMkE,sDAAN;AACA,aAAMC,wDAAN;;AAEA,aAAIA,SAAS,CAAC,MAAD,EAAS,OAAT,EAAkBtD,OAAlB,CAA0BsD,KAA1B,MAAqC,CAAC,CAAnD,EAAsD;AACpD,kBAAOD,GAAP,CADoD,CACxC;AACb;;AAED,aAAME,OAAOD,QAAQD,GAAR,eAAwBA,GAArC;;AAEA,8BAAoBE,IAApB,0BAAgDF,GAAhD;AACD,QAXM,CAAP;AAYD;;;2BAEKtF,I,EAAM;AACV,cAAOA,KAAKoB,OAAL,CAAa,YAAb,EAA2B,EAA3B,CAAP;AACD;;;qCAEeiC,K,EAAO;AACrB,cAAOA,MAAMjC,OAAN,yBAA2B,YAAc;AAC9C,aAAMf,uDAAN;AACA,gBAAO,yBAAcA,IAAd,KAAuBA,IAA9B;AACD,QAHM,CAAP;AAID;;;oCAEcoF,U,EAAY;AACzB,WAAI,CAACA,UAAL,EAAiB;AACf,gBAAO,EAAP;AACD;;AAED,cAAO7D,OAAOC,IAAP,CAAY4D,UAAZ,EAAwB3D,GAAxB,CAA4B;AAAA,gBAAQC,CAAR,UAAe0D,WAAW1D,CAAX,CAAf;AAAA,QAA5B,EAA8DP,IAA9D,CAAmE,GAAnE,CAAP;AACD;;;;;;mBAtDkBuD,Q;;;;;;;;;;;;;;ACPrB;;;;AACA;;;;;;;;;;gfAFA;;;KAIqBW,S;;;;;;;;;;;8BAEV;AACP,cAAO,CAAC,kCAAD,EAAqC,KAAK1D,UAAL,EAArC,EAAwD,QAAxD,CAAP;AACD;;;+BAES;AACR,cACE;AAAA;AAAA,WAAK,OAAO,EAAE2D,WAAW,QAAb,EAAZ;AACG,cAAKzD,aAAL;AADH,QADF;AAKD;;;;;;mBAZkBwD,S;;;;;;;;;;;;;;ACHrB;;;;AACA;;;;;;;;;;gfAFA;;;KAIqBE,O;;;AACnB,oBAAYrG,QAAZ,EAAqC;AAAA,SAAfC,QAAe,uEAAJ,EAAI;;AAAA;;AAAA,mHAC7BD,QAD6B,EACnBC,QADmB;;AAGnC,WAAKG,WAAL,GAAmB,IAAnB;AACA,WAAKkG,MAAL,GAAc,MAAK5F,MAAL,CAAY6F,IAAZ,KAAqB,QAAnC;;AAEA,SAAI,CAAC,MAAKD,MAAV,EAAkB;AAChB,aAAKjG,WAAL,GAAmB,IAAnB;AACD;AARkC;AASpC;;;;8BAEQ;AACP,WAAI,KAAKiG,MAAT,EAAiB;AACf,gBAAO,CAAC,QAAD,EAAW,KAAK7D,UAAL,CAAgB,IAAhB,CAAX,EAAkC,SAAlC,CAAP;AACD;AACD,WAAM+D,OAAO,KAAK9F,MAAL,CAAY8F,IAAZ,IAAoB,KAAK9F,MAAL,CAAY,KAAKH,IAAjB,CAAjC;AACA,WAAIiG,IAAJ,EAAU;AACR,gBAAO,mCAAkCA,IAAlC,SAA6C,KAAK/D,UAAL,CAAgB,IAAhB,CAA7C,EAAoE,QAApE,CAAP;AACD;AACD,cAAO,CAAC,OAAD,EAAU,KAAKA,UAAL,CAAgB,IAAhB,CAAV,EAAiC,QAAjC,CAAP;AACD;;;+BAES;AACR,WAAI,KAAK6D,MAAT,EAAiB;AACf,gBACE;AAAA;AAAA;AAAO,gBAAK7D,UAAL,CAAgB,IAAhB;AAAP,UADF;AAGD;AACD,WAAM+D,OAAO,KAAK9F,MAAL,CAAY8F,IAAZ,IAAoB,KAAK9F,MAAL,CAAY,KAAKH,IAAjB,CAAjC;;AAEA,WAAIkG,YAAY,aAAhB;AACA,WAAID,IAAJ,EAAU;AACRC,iCAAsBD,IAAtB;AACD;AACD,cACE;AAAA;AAAA,WAAK,WAAWC,SAAhB;AACG,cAAKhE,UAAL,CAAgB,IAAhB;AADH,QADF;AAKD;;;;;;mBAxCkB4D,O;;;;;;;;;;;;;;ACHrB;;;;AACA;;;;;;;;;;gfAFA;;;KAIqBK,Q;;;;;;;;;;;8BAEV;AACP,WAAMC,QAAQ,KAAKjG,MAAL,CAAYiG,KAA1B;;AAEA,WAAI,CAACA,KAAL,EAAY;AACV,gBAAO,KAAKlE,UAAL,EAAP;AACD;;AAED,cAAO,yBAAuBkE,KAAvB,SAAkC,KAAKlE,UAAL,EAAlC,EAAqD,SAArD,CAAP;AACD;;;+BAES;AACR,WAAMkE,QAAQ,KAAKjG,MAAL,CAAYiG,KAA1B;;AAEA,WAAI,CAACA,KAAL,EAAY;AACV,gBAAO,KAAKhE,aAAL,EAAP;AACD;;AAED,cACE;AAAA;AAAA,WAAM,OAAO,EAAEgE,YAAF,EAAb;AACG,cAAKhE,aAAL;AADH,QADF;AAKD;;;;;;mBAxBkB+D,Q;;;;;;;;;;;;;;ACHrB;;;;AACA;;;;;;;;;;gfAFA;;;KAIqBE,iB;;;AACnB,8BAAY5G,QAAZ,EAAqC;AAAA,SAAfC,QAAe,uEAAJ,EAAI;;AAAA;;AAAA,uIAC7BD,QAD6B,EACnBC,QADmB;;AAEnC,WAAKE,UAAL,GAAkB,IAAlB;AACA,WAAKE,WAAL,GAAmB,IAAnB;AAHmC;AAIpC;;;;8BAEQ;AACP,cAAO,QAAP;AACD;;;+BAES;AACR,cAAO,yCAAP;AACD;;;;;;mBAbkBuG,iB;;;;;;;;;;;;;;ACHrB;;;;AACA;;;;;;;;;;gfAFA;;;KAIqBC,Q;;;;;;;;;;;8BAEV;AACP,WAAMX,aAAa;AACjBY,cAAK,KAAK9G,QAAL,CAAckC,KAAd,CAAoB,KAAKO,UAAL,CAAgB,IAAhB,CAApB;AADY,QAAnB;;AAIA,WAAI,KAAK/B,MAAL,CAAYqG,KAAhB,EAAuB;AACrBb,oBAAWa,KAAX,GAAmB,KAAKrG,MAAL,CAAYqG,KAA/B;AACD;;AAED,WAAI,KAAKrG,MAAL,CAAYsG,MAAhB,EAAwB;AACtBd,oBAAWc,MAAX,GAAoB,KAAKtG,MAAL,CAAYsG,MAAhC;AACD;;AAED,wBAAgB,KAAKhH,QAAL,CAAciH,cAAd,CAA6Bf,UAA7B,CAAhB;AACD;;;+BAES;AACR,WAAMY,MAAM,KAAKrE,UAAL,CAAgB,IAAhB,CAAZ;AACA,cACE;AACE,eAAK,cADP;AAEE,cAAKqE,GAFP;AAGE,gBAAO,KAAKpG,MAAL,CAAYqG,KAHrB;AAIE,iBAAQ,KAAKrG,MAAL,CAAYsG;AAJtB,SADF;AAQD;;;;;;mBA5BkBH,Q;;;;;;;;;;;;ACJrB;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;mBAEe;AACbK,MAAG,sBAAgB,QAAhB,CADU;AAEbC,MAAG,sBAAgB,IAAhB,CAFU;AAGbC,MAAG,sBAAgB,GAAhB,CAHU;AAIbC,MAAG,sBAAgB,QAAhB,CAJU;AAKbC,OAAI,sBAAgB,IAAhB,EAAsB,EAAEjH,aAAa,IAAf,EAAtB,CALS;AAMbkH,OAAI,sBAAgB,IAAhB,EAAsB,EAAElH,aAAa,IAAf,EAAtB,CANS;AAObmH,OAAI,sBAAgB,IAAhB,EAAsB,EAAEnH,aAAa,IAAf,EAAtB,CAPS;AAQboH,OAAI,sBAAgB,IAAhB,EAAsB,EAAEpH,aAAa,IAAf,EAAtB,CARS;AASbqH,OAAI,sBAAgB,IAAhB,EAAsB,EAAErH,aAAa,IAAf,EAAtB,CATS;AAUbsH,OAAI,sBAAgB,IAAhB,EAAsB,EAAEtH,aAAa,IAAf,EAAtB,CAVS;AAWbuH,QAAK,sBAAgB,KAAhB,CAXQ;AAYbC,UAAO,sBAAgB,OAAhB,EAAyB,EAAEvH,cAAc,IAAhB,EAAzB,CAZM;AAabwH,UAAO,sBAAgB,OAAhB,EAAyB,EAAExH,cAAc,IAAhB,EAAzB,CAbM;AAcbyH,UAAO,sBAAgB,OAAhB,EAAyB,EAAEzH,cAAc,IAAhB,EAAzB,CAdM;AAeb0H,OAAI,sBAAgB,IAAhB,EAAsB,EAAE1H,cAAc,IAAhB,EAAtB,CAfS;AAgBb2H,OAAI,sBAAgB,IAAhB,CAhBS;AAiBbC,OAAI,sBAAgB,IAAhB,CAjBS;AAkBb3B,uBAlBa;AAmBb4B,uBAnBa;AAoBbC,mBApBa;AAqBbC,uBArBa;AAsBbC,2BAtBa;AAuBbC,yBAvBa;AAwBb5B,yBAxBa;AAyBb6B,uBAzBa;AA0Bb,sBA1Ba;AA2BbC,yBA3Ba;AA4Bb1C,sBA5Ba;AA6Bb2C,uBA7Ba;AA8BbC;AA9Ba,E;;;;;;;;;;;;;;ACbf;;;;AACA;;;;;;;;;;gfAFA;;;KAIqBC,W;;;AAEnB,wBAAY5I,QAAZ,EAAqC;AAAA,SAAfC,QAAe,uEAAJ,EAAI;;AAAA;;AAAA,2HAC7BD,QAD6B,EACnBC,QADmB;;AAGnC,WAAKC,SAAL,GAAiB,CAAC,GAAD,EAAM,OAAN,CAAjB;AACA,WAAKE,WAAL,GAAmB,IAAnB;AAJmC;AAKpC;;;;8BAEQ;AACP,cAAO,CAAC,MAAD,EAAS,KAAKqC,UAAL,EAAT,EAA4B,OAA5B,CAAP;AACD;;;+BAES;AACR,cACE;AAAA;AAAA;AAAK,cAAKE,aAAL;AAAL,QADF;AAGD;;;;;;mBAjBkBiG,W;;;;;;;;;;;;;;ACHrB;;;;AACA;;;;;;;;;;gfAFA;;;KAIqBC,O;;;;;;;;;;;8BAEV;AAAA;;AACP,WAAI9C,MAAM,KAAK/F,QAAL,CAAckC,KAAd,CAAoB,KAAKxB,MAAL,CAAY,KAAKH,IAAjB,KAA0B,KAAKkC,UAAL,CAAgB,IAAhB,CAA9C,CAAV;AACA,WAAI,eAAegC,IAAf,CAAoBsB,GAApB,CAAJ,EAA8B;AAC5BA,eAAM,EAAN;AACD;;AAED,WAAI,CAACA,GAAD,IAAQ,CAACA,IAAIhF,MAAjB,EAAyB;AACvB,gBAAO,KAAK0B,UAAL,EAAP;AACD;;AAED,cAAO,KAAKzC,QAAL,CAAc0F,OAAd,CACL,EAAE/D,SAAS,KAAX,EADK,EAEL;AAAA,gBAAM,eAAaoE,GAAb,yBAAsC,OAAKtD,UAAL,EAAtC,EAAyD,MAAzD,CAAN;AAAA,QAFK,CAAP;AAID;;;+BAES;AACR,WAAIsD,MAAM,KAAK/F,QAAL,CAAckC,KAAd,CAAoB,KAAKxB,MAAL,CAAY,KAAKH,IAAjB,KAA0B,KAAKkC,UAAL,CAAgB,IAAhB,CAA9C,CAAV;AACA,WAAI,eAAegC,IAAf,CAAoBsB,GAApB,CAAJ,EAA8B;AAC5BA,eAAM,EAAN;AACD;;AAED,WAAI,CAACA,GAAD,IAAQ,CAACA,IAAIhF,MAAjB,EAAyB;AACvB,gBAAO,KAAK4B,aAAL,EAAP;AACD;;AAED,WAAI,KAAKpC,IAAL,KAAc,OAAlB,EAA2B;AACzBwF,2BAAgBA,GAAhB;AACD;;AAED,cACE;AAAA;AAAA,WAAG,MAAMA,GAAT,EAAc,QAAO,QAArB,EAA8B,KAAI,qBAAlC;AACG,cAAKpD,aAAL;AADH,QADF;AAKD;;;;;;mBArCkBkG,O;;;;;;;;;;;;;;ACHrB;;;;AACA;;;;;;;;;;gfAFA;;;KAIqBC,O;;;AAEnB,oBAAY9I,QAAZ,EAAqC;AAAA,SAAfC,QAAe,uEAAJ,EAAI;;AAAA;;AAAA,mHAC7BD,QAD6B,EACnBC,QADmB;;AAGnC,WAAKG,WAAL,GAAmB,IAAnB;AACA,WAAKC,WAAL,GAAmB,IAAnB;AAJmC;AAKpC;;;;8BAEQ;AACP,WAAM0I,WAAW,KAAKrI,MAAL,CAAY8H,IAA7B;;AAEA,WAAIO,aAAa,GAAjB,EAAsB;AACpB,gBAAO,CAAC,MAAD,EAAS,KAAKtG,UAAL,EAAT,EAA4B,OAA5B,CAAP;AACD;;AAED,WAAIsG,aAAa,GAAjB,EAAsB;AACpB,gBAAO,CAAC,2CAAD,EAA8C,KAAKtG,UAAL,EAA9C,EAAiE,OAAjE,CAAP;AACD;;AAED,WAAIsG,aAAa,GAAjB,EAAsB;AACpB,gBAAO,CAAC,2CAAD,EAA8C,KAAKtG,UAAL,EAA9C,EAAiE,OAAjE,CAAP;AACD;;AAED,cAAO,CAAC,MAAD,EAAS,KAAKA,UAAL,EAAT,EAA4B,OAA5B,CAAP;AACD;;;+BAES;AACR,WAAMsG,WAAW,KAAKrI,MAAL,CAAY8H,IAA7B;;AAEA,WAAMQ,YAAY;AAChBC,YAAG,aADa;AAEhBC,YAAG,aAFa;AAGhB/B,YAAG,aAHa;AAIhBgC,YAAG,aAJa;AAKhB,cAAK;AALW,QAAlB;;AAQA,WAAIH,UAAUD,QAAV,CAAJ,EAAyB;AACvB,gBACE;AAAA;AAAA;AACE,oBAAO;AACLK,8BAAeJ,UAAUD,QAAV;AADV;AADT;AAKG,gBAAKpG,aAAL;AALH,UADF;AASD;;AAED,cAAO;AAAA;AAAA;AAAK,cAAKA,aAAL;AAAL,QAAP;AACD;;;;;;mBAnDkBmG,O;;;;;;;;;;;;;;ACHrB;;;;AACA;;;;;;;;;;gfAFA;;;KAIqBO,Q;;;AAEnB,qBAAYrJ,QAAZ,EAAqC;AAAA,SAAfC,QAAe,uEAAJ,EAAI;;AAAA;;AAAA,qHAC7BD,QAD6B,EACnBC,QADmB;;AAGnC,WAAKG,WAAL,GAAmB,IAAnB;AACA,WAAKC,WAAL,GAAmB,IAAnB;AAJmC;AAKpC;;;;8BAEQ;AACP,WAAMkB,SAAS,CAAC,cAAD,EAAiB,KAAKkB,UAAL,EAAjB,CAAf;AACA,WAAM6G,WAAW,KAAK5I,MAAL,CAAY+H,KAA7B;;AAEA,WAAIa,QAAJ,EAAc;AACZ/H,gBAAOX,IAAP,CAAY,SAAZ;AACAW,gBAAOX,IAAP,CAAY0I,QAAZ;AACA/H,gBAAOX,IAAP,CAAY,UAAZ;AACD;;AAEDW,cAAOX,IAAP,CAAY,eAAZ;;AAEA,cAAOW,MAAP;AACD;;;+BAES;AACR,WAAM+H,WAAW,KAAK5I,MAAL,CAAY+H,KAA7B;AACA,cACE;AAAA;AAAA;AACGa,qBAAY;AAAA;AAAA;AAAQA,mBAAR;AAAA;AAAA,UADf;AAEG,cAAK3G,aAAL;AAFH,QADF;AAMD;;;;;;mBAhCkB0G,Q;;;;;;;;;;;;;;ACHrB;;;;AACA;;;;;;;;;;gfAFA;;;KAIqBE,Q;;;;;;;;;;;8BAEV;AACP,cAAO,CAAC,iCAAD,EAAoC,KAAK9G,UAAL,EAApC,EAAuD,QAAvD,CAAP;AACD;;;+BAES;AACR,cACE;AAAA;AAAA,WAAK,OAAO,EAAE2D,WAAW,OAAb,EAAZ;AACG,cAAKzD,aAAL;AADH,QADF;AAKD;;;;;;mBAZkB4G,Q;;;;;;;;;;;;;;ACJrB;;;;AACA;;;;;;;;;;;;mBAEe,UAAChJ,IAAD,EAAO2F,UAAP,EAAsB;AAAA,OAC7BsD,SAD6B;AAAA;;AAEjC,wBAAYxJ,QAAZ,EAAqC;AAAA,WAAfC,QAAe,uEAAJ,EAAI;;AAAA;;AAAA,yHAC7BD,QAD6B,EACnBC,QADmB;;AAGnCoC,cAAOC,IAAP,CAAY4D,cAAc,EAA1B,EAA8BrF,OAA9B,CAAsC,eAAO;AAC3C,eAAKqD,GAAL,IAAYgC,WAAWhC,GAAX,CAAZ;AACD,QAFD;AAHmC;AAMpC;;AARgC;AAAA;AAAA,gCAUxB;AACP,aAAI+C,iBAAiB,KAAKjH,QAAL,CAAciH,cAAd,CAA6B,KAAKvG,MAAlC,CAArB;;AAEA,aAAIuG,cAAJ,EAAoB;AAClBA,kCAAqBA,cAArB;AACD;;AAED,gBAAO,OAAK1G,IAAL,GAAY0G,cAAZ,QAA+B,KAAKxE,UAAL,EAA/B,SAAuDlC,IAAvD,OAAP;AACD;AAlBgC;AAAA;AAAA,iCAoBvB;AACR,aAAMkJ,OAAOlJ,IAAb;AACA,gBACE;AAAC,eAAD;AAAU,gBAAKG,MAAf;AAAwB,gBAAKiC,aAAL;AAAxB,UADF;AAGD;AAzBgC;;AAAA;AAAA;;AA4BnC,UAAO6G,SAAP;AACD,E;;;;;;;;;;;;;;AC/BD;;;;AACA;;;;;;;;;;gfAFA;;;KAIqBE,O;;;;;;;;;;;8BAEV;AACP,WAAMrB,OAAO,KAAK3H,MAAL,CAAY2H,IAAzB;;AAEA,WAAIsB,MAAMtB,IAAN,CAAJ,EAAiB;AACf,gBAAO,KAAK5F,UAAL,EAAP;AACD;AACD,cAAO,6BAA2B4F,IAA3B,WAAuC,KAAK5F,UAAL,EAAvC,EAA0D,SAA1D,CAAP;AACD;;;+BAES;AACR,WAAM4F,OAAO,KAAK3H,MAAL,CAAY2H,IAAzB;;AAEA,WAAIsB,MAAMtB,IAAN,CAAJ,EAAiB;AACf,gBAAO,KAAK1F,aAAL,EAAP;AACD;;AAED,cACE;AAAA;AAAA,WAAM,OAAO,EAAEiH,UAAavB,IAAb,OAAF,EAAb;AAAyC,cAAK1F,aAAL;AAAzC,QADF;AAGD;;;;;;mBArBkB+G,O","file":"bbcode-to-react.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"bbcode-to-react\", [\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"bbcode-to-react\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"bbcode-to-react\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6cb27fa43f81619c501a","// https://github.com/vishnevskiy/bbcodejs/blob/master/src/coffee/tags.coffee\nimport React from 'react';\nimport { NEWLINE_RE, LINE_BREAK } from './constants';\n\nexport default class Tag {\n\n  constructor(renderer, settings = {}) {\n    this.renderer = renderer;\n    this.CLOSED_BY = [];\n    this.SELF_CLOSE = false;\n    this.STRIP_INNER = false;\n    this.STRIP_OUTER = false;\n    this.DISCARD_TEXT = false;\n\n    this.name = settings.name || null;\n    this.parent = settings.parent || null;\n    this.text = settings.text || '';\n    this.params = {};\n    this.children = [];\n\n    if (this.parent) {\n      this.parent.children.push(this);\n    }\n\n    settings.params = settings.params || [];\n\n    settings.params.forEach(item => {\n      if (item.length > 1 && item[1]) {\n        this.params[item[0]] = item[1];\n      }\n    });\n  }\n\n  getComponents() {\n    const components = [];\n    if (this.text && this.text.length) {\n      // todo linkify and emotion\n      components.push(this.text);\n    }\n\n    this.children.forEach(child => {\n      if (!(this.DISCARD_TEXT && child.name === null)) {\n        const childComponents = child.toReact();\n        components.push(childComponents);\n      }\n    });\n\n    return React.Children.toArray(components);\n  }\n\n  getContent(raw = false) {\n    const pieces = [];\n    let text;\n    let content;\n\n    if (this.text && this.text.length) {\n      text = this.renderer.escape(this.text);\n\n      if (!raw) {\n        if (this.renderer.options.linkify) {\n          text = this.renderer.linkify(text);\n        }\n        text = this.renderer.cosmeticReplace(text.replace(NEWLINE_RE, LINE_BREAK));\n      }\n\n      pieces.push(text);\n    }\n\n    this.children.forEach(child => {\n      if (raw) {\n        pieces.push(child.toText());\n      } else {\n        if (!(this.DISCARD_TEXT && child.name === null)) {\n          const childPieces = child.toHTML();\n          if (typeof childPieces === 'string') {\n            pieces.push(childPieces);\n          } else {\n            pieces.push(...childPieces);\n          }\n        }\n      }\n    });\n\n    content = pieces.join('');\n\n    if (!raw && this.STRIP_INNER) {\n      content = this.renderer.strip(content);\n\n      while (content.slice(0, LINE_BREAK.length) === LINE_BREAK) {\n        content = content.slice(LINE_BREAK.length);\n      }\n      while (content.slice(-LINE_BREAK.length) === LINE_BREAK) {\n        content = content.slice(0, -LINE_BREAK.length);\n      }\n      content = this.renderer.strip(content);\n    }\n    return content;\n  }\n\n  toText(contentAsHTML = false) {\n    const pieces = [];\n\n    if (this.name !== null) {\n      if (this.params.length) {\n        const params = Object.keys(this.params).map(k => `${k}=${this.params[k]}`).join(' ');\n\n        if (this.params[this.name]) {\n          pieces.push(`[${params}]`);\n        } else {\n          pieces.push(`[${this.name} ${params}]`);\n        }\n      } else {\n        pieces.push(`[${this.name}]`);\n      }\n    }\n\n    pieces.push(this.getContent(!contentAsHTML));\n\n    if (this.name !== null && this.CLOSED_BY.indexOf(this.name) === -1) {\n      pieces.push(`[/${this.name}]`);\n    }\n\n    return pieces.join('');\n  }\n\n  toHTML() {\n    const pieces = this.toText(true);\n\n    return (typeof pieces === 'string') ? pieces : pieces.join('');\n  }\n\n  toReact() {\n    return React.Children.toArray(this.getComponents());\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tag.js","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 2\n// module chunks = 0","\nexport const NEWLINE_RE = /\\r?\\n/g;\nexport const LINE_BREAK = '<br />';\n\nexport const SPACE_RE = /^\\s*$/;\nexport const TOKEN_RE = /(\\[\\/?.+?\\])/;\nexport const START_NEWLINE_RE = /^\\r?\\n/;\n\nexport const ESCAPE_RE = /[&<>\"]/g;\nexport const ESCAPE_DICT = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n};\n\nexport const URL_RE = /\\b((?:([\\w-]+):(\\/{1,3})|www[.])(?:(?:(?:[^\\s&()]|&amp;|&quot;)*(?:[^!\"#$%&'()*+,.:;<=>?@\\[\\]^`{|}~\\s]))|(?:\\((?:[^\\s&()]|&amp;|&quot;)*\\)))+)/g;\n\nexport const COSMETIC_DICT = {\n  '--': '&ndash;',\n  '---': '&mdash;',\n  '...': '&#8230;',\n  '(c)': '&copy;',\n  '(reg)': '&reg;',\n  '(tm)': '&trade;',\n};\n\nexport const COSMETIC_RE = /--|---|\\.\\.\\.|\\(c\\)|\\(reg\\)|\\(tm\\)/;\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants.js","import Parser from './parser';\nimport Tag from './tag';\n\n// export default new Parser();\n\n// export {\n//   Parser,\n//   Tag\n// };\n\nmodule.exports = new Parser();\nmodule.exports.Parser = Parser;\nmodule.exports.Tag = Tag;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// https://github.com/vishnevskiy/bbcodejs/blob/master/src/coffee/parser.coffee\nimport React from 'react';\nimport { SPACE_RE, TOKEN_RE, START_NEWLINE_RE } from './constants';\nimport defaultTags from './tags';\nimport Tag from './tag';\nimport Renderer from './renderer';\n\nexport default class Parser {\n  constructor(allowedTags = null) {\n    this.tags = {};\n\n    if (!allowedTags) {\n      this.tags = defaultTags;\n    } else {\n      allowedTags.forEach(name => {\n        if (defaultTags[name]) {\n          this.tags[name] = defaultTags[name];\n        }\n      });\n    }\n\n    this.renderer = new Renderer();\n  }\n\n  registerTag(name, tag) {\n    this.tags[name] = tag;\n  }\n\n  parseParams(token) {\n    const params = [];\n\n    function addParam(name, value) {\n      if (name) {\n        const n = name.trim();\n        // ignore on* events attribute\n        if (n.length && n.toLowerCase().indexOf('on') !== 0) {\n          params.push([n, value]);\n        }\n      }\n    }\n\n    if (token) {\n      let key = [];\n      let target = key;\n      let value = [];\n      let terminate = ' ';\n      let skipNext = false;\n\n      Array.from(token).forEach(c => {\n        if (skipNext) {\n          skipNext = false;\n        } else if (target === key && c === '=') {\n          target = value;\n        } else if (target === key && c === ':') {\n          target = value;\n        } else if (!value.length && c === '\"') {\n          terminate = c;\n        } else if (c !== terminate) {\n          target.push(c);\n        } else {\n          addParam(key.join(''), value.join(''));\n\n          if (!SPACE_RE.test(terminate)) {\n            skipNext = true;\n          }\n\n          target = key = [];\n          value = [];\n          terminate = ' ';\n        }\n      });\n\n      addParam(key.join(''), value.join(''));\n    }\n\n    return params;\n  }\n\n  createTextNode(parent, text) {\n    const ref = parent.children.slice(-1)[0];\n    //console.log('ref', ref, text)\n    if (ref != null && ref.STRIP_OUTER) {\n      text = text.replace(START_NEWLINE_RE, '');\n    }\n\n    return new Tag(this.renderer, { text, parent });\n  }\n\n  parse(input) {\n    const root = new Tag(this.renderer);\n    const tokens = input.split(TOKEN_RE);\n    let current = root;\n    let token = null;\n    while (tokens.length) {\n      token = tokens.shift();\n      if (!token.length) {\n        continue;\n      }\n\n      if (token.match(TOKEN_RE)) {\n        let params = this.parseParams(token.slice(1, -1));\n        let tagName = params[0][0].toLowerCase();\n\n        if (current.CLOSED_BY.indexOf(tagName) > -1) {\n          tokens.unshift(token);\n          tagName = `/${current.name}`;\n          params = [];\n        }\n\n        if (tagName[0] === '/') {\n          tagName = tagName.slice(1);\n          if (!this.tags[tagName]) {\n            this.createTextNode(current, token);\n            continue;\n          }\n\n          if (current.name === tagName) {\n            current = current.parent;\n          }\n        } else {\n          const cls = this.tags[tagName];\n          if (!cls) {\n            this.createTextNode(current, token);\n            continue;\n          }\n\n          const tag = new cls(this.renderer, {\n            name: tagName,\n            parent: current,\n            params,\n          });\n\n          if (!tag.SELF_CLOSE && (tag.CLOSED_BY.indexOf(tagName) < 0 || current.name !== tagName)) {\n            current = tag;\n          }\n        }\n      } else {\n        this.createTextNode(current, token);\n      }\n    }\n\n    return root;\n  }\n\n  toHTML(input) {\n    return this.parse(input).toHTML();\n  }\n\n  toReact(input) {\n    return this.parse(input).toReact();\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/parser.js","import {\n  ESCAPE_RE,\n  ESCAPE_DICT,\n  URL_RE,\n  COSMETIC_DICT,\n  COSMETIC_RE,\n} from './constants';\n\nexport default class Renderer {\n  constructor(options) {\n    this.options = Object.assign({\n      linkify: false,\n    }, options);\n    this.contexts = [];\n  }\n\n  context(context, func) {\n    const newOptions = Object.assign({}, this.options, context);\n    this.contexts.push(this.options);\n    this.options = newOptions;\n    const v = func();\n    this.options = this.contexts.pop();\n    return v;\n  }\n\n  escape(value) {\n    // Escapes a string so it is valid within XML or XHTML\n    return value.replace(ESCAPE_RE, (match) => ESCAPE_DICT[match]);\n  }\n\n  linkify(value) {\n    return value.replace(URL_RE, (...match) => {\n      const url = match[1];\n      const proto = match[2];\n\n      if (proto && ['http', 'https'].indexOf(proto) === -1) {\n        return url; // bad protocol, no linkify\n      }\n\n      const href = proto ? url : `http://${url}`;\n\n      return `<a href=\\\"${href}\\\" target=\\\"_blank\\\">${url}</a>`;\n    });\n  }\n\n  strip(text) {\n    return text.replace(/^\\s+|\\s+$/g, '');\n  }\n\n  cosmeticReplace(value) {\n    return value.replace(COSMETIC_RE, (...match) => {\n      const item = match[0];\n      return COSMETIC_DICT[item] || item;\n    });\n  }\n\n  htmlAttributes(attributes) {\n    if (!attributes) {\n      return '';\n    }\n\n    return Object.keys(attributes).map(k => `${k}=\\\"${attributes[k]}\\\"`).join(' ');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/renderer.js","// https://github.com/vishnevskiy/bbcodejs/blob/master/src/coffee/tags.coffee\nimport React from 'react';\nimport Tag from '../tag';\n\nexport default class CenterTag extends Tag {\n\n  toHTML() {\n    return ['<div style=\"text-align:center;\">', this.getContent(), '</div>'];\n  }\n\n  toReact() {\n    return (\n      <div style={{ textAlign: 'center' }}>\n        {this.getComponents()}\n      </div>\n    );\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/tags/center.js","// https://github.com/vishnevskiy/bbcodejs/blob/master/src/coffee/tags.coffee\nimport React from 'react';\nimport Tag from '../tag';\n\nexport default class CodeTag extends Tag {\n  constructor(renderer, settings = {}) {\n    super(renderer, settings);\n\n    this.STRIP_INNER = true;\n    this.inline = this.params.code === 'inline';\n\n    if (!this.inline) {\n      this.STRIP_OUTER = true;\n    }\n  }\n\n  toHTML() {\n    if (this.inline) {\n      return ['<code>', this.getContent(true), '</code>'];\n    }\n    const lang = this.params.lang || this.params[this.name];\n    if (lang) {\n      return [`<pre class=\\\"prettyprint lang-${lang}\\\">`, this.getContent(true), '</pre>'];\n    }\n    return ['<pre>', this.getContent(true), '</pre>'];\n  }\n\n  toReact() {\n    if (this.inline) {\n      return (\n        <code>{this.getContent(true)}</code>\n      );\n    }\n    const lang = this.params.lang || this.params[this.name];\n\n    let className = 'prettyprint';\n    if (lang) {\n      className += ` lang-${lang}`;\n    }\n    return (\n      <pre className={className}>\n        {this.getContent(true)}\n      </pre>\n    );\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/tags/code.js","// https://github.com/vishnevskiy/bbcodejs/blob/master/src/coffee/tags.coffee\nimport React from 'react';\nimport Tag from '../tag';\n\nexport default class ColorTag extends Tag {\n\n  toHTML() {\n    const color = this.params.color;\n\n    if (!color) {\n      return this.getContent();\n    }\n\n    return [`<span style=\"color:${color}\">`, this.getContent(), '</span>'];\n  }\n\n  toReact() {\n    const color = this.params.color;\n\n    if (!color) {\n      return this.getComponents();\n    }\n\n    return (\n      <span style={{ color }}>\n        {this.getComponents()}\n      </span>\n    );\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/tags/color.js","// https://github.com/vishnevskiy/bbcodejs/blob/master/src/coffee/tags.coffee\nimport React from 'react';\nimport Tag from '../tag';\n\nexport default class HorizontalRuleTag extends Tag {\n  constructor(renderer, settings = {}) {\n    super(renderer, settings);\n    this.SELF_CLOSE = true;\n    this.STRIP_OUTER = true;\n  }\n\n  toHTML() {\n    return '<hr />';\n  }\n\n  toReact() {\n    return <hr />;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tags/hr.js","// https://github.com/vishnevskiy/bbcodejs/blob/master/src/coffee/tags.coffee\nimport React from 'react';\nimport Tag from '../tag';\n\nexport default class ImageTag extends Tag {\n\n  toHTML() {\n    const attributes = {\n      src: this.renderer.strip(this.getContent(true)),\n    };\n\n    if (this.params.width) {\n      attributes.width = this.params.width;\n    }\n\n    if (this.params.height) {\n      attributes.height = this.params.height;\n    }\n\n    return `<img ${(this.renderer.htmlAttributes(attributes))} />`;\n  }\n\n  toReact() {\n    const src = this.getContent(true);\n    return (\n      <img\n        role=\"presentation\"\n        src={src}\n        width={this.params.width}\n        height={this.params.height}\n      />\n    );\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/tags/image.js","import Tag from '../tag';\nimport CodeTag from './code';\nimport ImageTag from './image';\nimport HorizontalRuleTag from './hr';\nimport SizeTag from './size';\nimport CenterTag from './center';\nimport RightTag from './right';\nimport ColorTag from './color';\nimport ListTag from './list';\nimport ListItemTag from './item';\nimport QuoteTag from './quote';\nimport LinkTag from './link';\nimport createSimpleTag from './simple';\n\nexport default {\n  b: createSimpleTag('strong'),\n  i: createSimpleTag('em'),\n  u: createSimpleTag('u'),\n  s: createSimpleTag('strike'),\n  h1: createSimpleTag('h1', { STRIP_OUTER: true }),\n  h2: createSimpleTag('h2', { STRIP_OUTER: true }),\n  h3: createSimpleTag('h3', { STRIP_OUTER: true }),\n  h4: createSimpleTag('h4', { STRIP_OUTER: true }),\n  h5: createSimpleTag('h5', { STRIP_OUTER: true }),\n  h6: createSimpleTag('h6', { STRIP_OUTER: true }),\n  pre: createSimpleTag('pre'),\n  table: createSimpleTag('table', { DISCARD_TEXT: true }),\n  thead: createSimpleTag('thead', { DISCARD_TEXT: true }),\n  tbody: createSimpleTag('tbody', { DISCARD_TEXT: true }),\n  tr: createSimpleTag('tr', { DISCARD_TEXT: true }),\n  th: createSimpleTag('th'),\n  td: createSimpleTag('td'),\n  code: CodeTag,\n  img: ImageTag,\n  hr: HorizontalRuleTag,\n  size: SizeTag,\n  center: CenterTag,\n  right: RightTag,\n  color: ColorTag,\n  list: ListTag,\n  '*': ListItemTag,\n  quote: QuoteTag,\n  url: LinkTag,\n  link: LinkTag,\n  email: LinkTag,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/tags/index.js","// https://github.com/vishnevskiy/bbcodejs/blob/master/src/coffee/tags.coffee\nimport React from 'react';\nimport Tag from '../tag';\n\nexport default class ListItemTag extends Tag {\n\n  constructor(renderer, settings = {}) {\n    super(renderer, settings);\n\n    this.CLOSED_BY = ['*', '/list'];\n    this.STRIP_INNER = true;\n  }\n\n  toHTML() {\n    return ['<li>', this.getContent(), '</li>'];\n  }\n\n  toReact() {\n    return (\n      <li>{this.getComponents()}</li>\n    );\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/tags/item.js","// https://github.com/vishnevskiy/bbcodejs/blob/master/src/coffee/tags.coffee\nimport React from 'react';\nimport Tag from '../tag';\n\nexport default class LinkTag extends Tag {\n\n  toHTML() {\n    let url = this.renderer.strip(this.params[this.name] || this.getContent(true));\n    if (/javascript:/i.test(url)) {\n      url = '';\n    }\n\n    if (!url || !url.length) {\n      return this.getContent();\n    }\n\n    return this.renderer.context(\n      { linkify: false },\n      () => [`<a href=\"${url}\" target=\"_blank\">`, this.getContent(), '</a>']\n    );\n  }\n\n  toReact() {\n    let url = this.renderer.strip(this.params[this.name] || this.getContent(true));\n    if (/javascript:/i.test(url)) {\n      url = '';\n    }\n\n    if (!url || !url.length) {\n      return this.getComponents();\n    }\n\n    if (this.name === 'email') {\n      url = `mailto:${url}`;\n    }\n\n    return (\n      <a href={url} target=\"_blank\" rel=\"noopener noreferrer\">\n        {this.getComponents()}\n      </a>\n    );\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/tags/link.js","// https://github.com/vishnevskiy/bbcodejs/blob/master/src/coffee/tags.coffee\nimport React from 'react';\nimport Tag from '../tag';\n\nexport default class ListTag extends Tag {\n\n  constructor(renderer, settings = {}) {\n    super(renderer, settings);\n\n    this.STRIP_INNER = true;\n    this.STRIP_OUTER = true;\n  }\n\n  toHTML() {\n    const listType = this.params.list;\n\n    if (listType === '1') {\n      return ['<ol>', this.getContent(), '</ol>'];\n    }\n\n    if (listType === 'a') {\n      return ['<ol style=\"list-style-type:lower-alpha;\">', this.getContent(), '</ol>'];\n    }\n\n    if (listType === 'A') {\n      return ['<ol style=\"list-style-type:upper-alpha;\">', this.getContent(), '</ol>'];\n    }\n\n    return ['<ul>', this.getContent(), '</ul>'];\n  }\n\n  toReact() {\n    const listType = this.params.list;\n\n    const listTypes = {\n      a: 'lower-alpha',\n      A: 'upper-alpha',\n      i: 'lower-roman',\n      I: 'upper-roman',\n      '1': 'decimal',\n    }\n\n    if (listTypes[listType]) {\n      return (\n        <ol\n          style={{\n            listStyleType: listTypes[listType],\n          }}\n        >\n          {this.getComponents()}\n        </ol>\n      );\n    }\n\n    return <ul>{this.getComponents()}</ul>;\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/tags/list.js","// https://github.com/vishnevskiy/bbcodejs/blob/master/src/coffee/tags.coffee\nimport React from 'react';\nimport Tag from '../tag';\n\nexport default class QuoteTag extends Tag {\n\n  constructor(renderer, settings = {}) {\n    super(renderer, settings);\n\n    this.STRIP_INNER = true;\n    this.STRIP_OUTER = true;\n  }\n\n  toHTML() {\n    const pieces = ['<blockquote>', this.getContent()];\n    const citation = this.params.quote;\n\n    if (citation) {\n      pieces.push('<small>');\n      pieces.push(citation);\n      pieces.push('</small>');\n    }\n\n    pieces.push('</blockquote>');\n\n    return pieces;\n  }\n\n  toReact() {\n    const citation = this.params.quote;\n    return (\n      <blockquote>\n        {citation && <small>{citation} wrote:</small>}\n        {this.getComponents()}\n      </blockquote>\n    );\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/tags/quote.js","// https://github.com/vishnevskiy/bbcodejs/blob/master/src/coffee/tags.coffee\nimport React from 'react';\nimport Tag from '../tag';\n\nexport default class RightTag extends Tag {\n\n  toHTML() {\n    return ['<div style=\"text-align:right;\">', this.getContent(), '</div>'];\n  }\n\n  toReact() {\n    return (\n      <div style={{ textAlign: 'right' }}>\n        {this.getComponents()}\n      </div>\n    );\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/tags/right.js","import React from 'react';\nimport Tag from '../tag';\n\nexport default (name, attributes) => {\n  class SimpleTag extends Tag {\n    constructor(renderer, settings = {}) {\n      super(renderer, settings);\n\n      Object.keys(attributes || {}).forEach(key => {\n        this[key] = attributes[key];\n      });\n    }\n\n    toHTML() {\n      let htmlAttributes = this.renderer.htmlAttributes(this.params);\n\n      if (htmlAttributes) {\n        htmlAttributes = ` ${htmlAttributes}`;\n      }\n\n      return [`<${name}${htmlAttributes}>`, this.getContent(), `</${name}>`];\n    }\n\n    toReact() {\n      const Name = name;\n      return (\n        <Name {...this.params}>{this.getComponents()}</Name>\n      );\n    }\n\n  }\n  return SimpleTag;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/tags/simple.js","// https://github.com/vishnevskiy/bbcodejs/blob/master/src/coffee/tags.coffee\nimport React from 'react';\nimport Tag from '../tag';\n\nexport default class SizeTag extends Tag {\n\n  toHTML() {\n    const size = this.params.size;\n\n    if (isNaN(size)) {\n      return this.getContent();\n    }\n    return [`<span style=\"font-size:${size}px\">`, this.getContent(), '</span>'];\n  }\n\n  toReact() {\n    const size = this.params.size;\n\n    if (isNaN(size)) {\n      return this.getComponents();\n    }\n\n    return (\n      <span style={{ fontSize: `${size}px` }}>{this.getComponents()}</span>\n    );\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/tags/size.js"],"sourceRoot":""}